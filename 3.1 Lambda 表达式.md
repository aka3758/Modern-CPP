# 3.1 Lambda 表达式

Lambda 表达式提供了一个类似于匿名函数的特性。

匿名函数是在一个需要函数，但是又不想费力去命名一个函数的情况下去使用的。这样的场景其实在现代编程语言中有很多，所以匿名函数几乎是现代编程语言的标配。

## 基础

Lambda 表达式基本语法如下：

```C++
[捕获列表](参数列表)mutable(可选) 异常属性 -> 返回类型
{
    //函数体
}
```

上面的语法规则都很好理解，可能[捕获列表]困难一点。

Lambda 表达式内部函数体在默认情况下是不能使用函数体外部的变量的。通过捕获列表，可以起到传递外部数据的作用。根据传递的行为，有以下几种：

## 1. 值捕获

与参数按照值传递类似，值捕获的前提是要捕获的对象可以拷贝。和值传递不同的是，不捕获的变量在 Lambda 表达式被创建时拷贝，而不是被调用时拷贝。如下代码：

```C++
void lambda_value_capture()
{
    int value = 1;
    auto copy_value = [value] {
        return value;
    };
    value = 100;
    auto stored_value = copy_value;  // stored_value == 1
    //因为 copy_value 在创建时就拷贝了一份 value
}
```
